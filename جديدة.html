<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ù…Ø­ÙˆÙ„ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <!-- Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ -->
  <div id="header"></div>
  <div id="sidebar-container"></div>

  <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© -->
  <main>
    <div class="app">
      <h2>âœï¸ Ø±Ø³Ù… Ù…Ù†Ø­Ù†Ù‰ Ø¯Ø§Ù„Ø©</h2>

<label>Ø§ÙƒØªØ¨ Ø§Ù„Ø¯Ø§Ù„Ø© (x):</label><br>
<input type="text" id="func" value="Math.sin(x)" style="width:300px"><br><br>

<label>Ù…Ù†:</label>
<input type="number" id="start" value="-10">
<label>Ø¥Ù„Ù‰:</label>
<input type="number" id="end" value="10">
<label>Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø·:</label>
<input type="number" id="steps" value="200"><br><br>

<button onclick="drawFunction()">ğŸ¨ Ø§Ø±Ø³Ù…</button>

<canvas id="myChart"></canvas>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  let chart;

  function drawFunction() {
    const funcText = document.getElementById("func").value;
    const start = parseFloat(document.getElementById("start").value);
    const end = parseFloat(document.getElementById("end").value);
    const steps = parseInt(document.getElementById("steps").value);

    const xValues = [];
    const yValues = [];
    const stepSize = (end - start) / steps;

    for (let i = 0; i <= steps; i++) {
      const x = start + i * stepSize;
      let y;
      try {
        y = eval(funcText); // âš ï¸ ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…ÙƒØªÙˆØ¨Ø©
      } catch {
        y = NaN;
      }
      xValues.push(x.toFixed(2));
      yValues.push(y);
    }

    if (chart) chart.destroy();

    const ctx = document.getElementById("myChart").getContext("2d");
    chart = new Chart(ctx, {
      type: "line",
      data: {
        labels: xValues,
        datasets: [{
          label: "y = " + funcText,
          data: yValues,
          borderColor: "blue",
          fill: false,
          pointRadius: 0,
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: false }
        }
      }
    });
  }
</script>

      <!-- Ù‡Ù†Ø§ ØªØ¨Ù†ÙŠ Ø§Ù„Ø£Ø¯ÙˆØ§Øª -->
    </div>
  </main>

  <div id="footer"></div>

<script>
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡
  function includeHTML(file, elementId) {
    fetch(file)
      .then(r => r.text())
      .then(html => { document.getElementById(elementId).innerHTML = html; })
      .catch(() => {});
  }
  includeHTML("header.html", "header");
  includeHTML("sidebar.html", "sidebar-container");
  includeHTML("footer.html", "footer");

  // ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
  function toggleSidebar() {
    const el = document.getElementById('sidebar'); // Ø¯Ø§Ø®Ù„ sidebar.html
    if (el) el.classList.toggle('open');
  }

  // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· ÙÙŠ Ù…ÙƒØ§Ù† ÙØ§Ø±Øº
  document.addEventListener("click", function (event) {
    const sidebar = document.getElementById("sidebar");
    const menuBtn = document.querySelector(".menu-btn");

    if (
      sidebar &&
      sidebar.classList.contains("open") &&
      !sidebar.contains(event.target) &&
      !menuBtn.contains(event.target)
    ) {
      sidebar.classList.remove("open");
    }
  });

  // ====== Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ======
  // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ ...
</script>

</body>
</html>
